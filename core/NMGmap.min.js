/**
 * Plugin Name: Nomanic Objects
 * Plugin URI: http://www.nomanic.biz/NMObjects/
 * Description: A Charting and Interface Package
 * Version: 4.75
 * Author: Neil Oman
 * Author URI: http://www.nomanic.biz/
 * License: Envato Split License with GPL (see text file)
 *
 * Copyright 2018  Nomanic  (email : nomanic99@gmail.com)
 *
 * Basically free for non-commercial use only.
 * If you wish to buy a license, please visit my website.
 */
"use strict";var NomanicGmap={prop:.95,ref:"child",API_KEY:"AIzaSyCkhQLsq5jbdotaLgyh-ahnL2velhfbzMk",NMCdrawPie:function(t,e,o){var a,i=0,s=t.plot.data;for(a=0;a<s.length;a++)1==t.legend.inuse[t.cs][a]&&i++;var l,n,r,c=0,p=[],m=[],g=t.objects.canvas.offsetHeight,d=t.objects.canvas.offsetWidth,h=g*t.plot.scalary,u=d*t.plot.scalarx,f=-Math.abs((1-t.plot.scalary)*h)/2,b=Math.abs((1-t.plot.scalarx)*u)/2,y=Math.floor(Math.abs(h/200*10*(1-u/h)));for(t.gw=t.gw?t.gw:-1,t.gh=t.gh?t.gh:-1,g==t.gh&&d==t.gw||(t.hintfill=t.ctx.createLinearGradient(0,0,d,g),t.hintfill.addColorStop(0,"rgba(0,0,0,0)"),t.hintfill.addColorStop(1,"rgba(0,0,0,0.4)")),t.ctx.clearRect(0,0,t.objects.panel.offsetWidth,t.objects.panel.offsetHeight),NomanicGmap.doborder(t,b,f,d,g,o),t.plot.egg||(y=0),a=0;a<s.length;a++)c+=1==t.legend.inuse[t.cs][a]?s[a].series[0]:0;if(e)c=c>t.plot.data[0].totals[t.selx]?c:t.plot.data[0].totals[t.selx];else for(a=0;a<s.length;a++)t.plot.data[a].totals[t.selx]=c;for(p.push(0),a=0;a<s.length;a++)1==t.legend.inuse[t.cs][a]&&(p.push(s[a].series[0]/c),m.push(a));for(t.ctx.restore(),t.ctx.save(),c=0,a=0;a<p.length;a++)p[a]=a==p.length-1?e?parseInt(100*p[a])/100:Math.round(100*(1-c))/100:parseInt(100*p[a])/100,c+=p[a];var N=t.plot.shadow,w=(t.plot.donuty,t.plot.donut,p.length,t.plot.outerring?t.plot.donuty-.15:t.plot.donuty);for(t.egg2=!1,r=y;r>-(t.plot.stacked?5*i:1);r--)for(n=0,a=1;a<p.length;a++)if(!t.plot.stacked||r>-5*(i-(a-1))){l=(l=n+p[a])>1?1:l;var v=0;if(t.plot.egg&&(v=t.plot.stacked?r>-5*(i-(a-1))+1?1:0:r>0),t.pattern[a-1])j=t.ctx.createPattern(t.pattern[a-1],"repeat");else if(t.plot.opacityspread&&t.plot.color)var k=.8/s.length,A=NomanicObject.hexToRgb(v?NomanicObject.lighten(t.plot.color,-.3):t.plot.color),j="rgba("+A[0]+","+A[1]+","+A[2]+","+(1-k*(a-1))+")";else j=v?NomanicObject.lighten(t.legend.ncolors[t.cs][m[a-1]],-.3):t.legend.ncolors[t.cs][m[a-1]];var O=t.plot.donut+(w-t.plot.donut)*t.plot.data[a-1].idonut,x=t.plot.donut+(w-t.plot.donut)*t.plot.data[a-1].odonut,C=t.plot.egg2||0===t.plot.egg2?t.plot.egg2:O,M=t.plot.egg3?t.plot.egg3:x;if(M>1){C/=M,O/=M,x/=M,M/=M}t.plot.shadow=0,t.egg3=1,(t.plot.egg2||0===t.plot.egg2)&&(t.seg=a-1,t.plot.eggcol2?NomanicGmap.polarslice(t,0,1,r,C,O,t.plot.eggcol2,0,1,t.plot.eggshade2):t.plot.eggcol2||NomanicGmap.polarslice(t,n,l,r,C,O,j,0,1,t.plot.eggshade2),t.seg=!1),t.egg2=1,t.egg3=!1,t.noedge=r==y||(t.plot.stacked?r==-5*(i-(a-1))+1:0===r)?0:1,t.seg=a-1,t.plot.shadow=N,NomanicGmap.polarslice(t,n,l,r,O,x,j,0,1),t.plot.shadow=0,t.seg=!1,t.egg2=!1,t.egg3=1,t.plot.egg3&&(t.plot.eggcol3?NomanicGmap.polarslice(t,0,1,r,x,M,t.plot.eggcol3,0,1,t.plot.eggshade3):t.plot.eggcol3||NomanicGmap.polarslice(t,n,l,r,x,M,j,0,1,t.plot.eggshade3)),t.plot.innerring&&t.plot.donut>0&&(t.seg=a-1,NomanicGmap.polarslice(t,n,l,r,t.plot.donut-.17,t.plot.donut-.085,j,0,1),t.seg=!1),t.plot.outerring&&(t.seg=a-1,NomanicGmap.polarslice(t,n,l,r,t.plot.donuty-.085,t.plot.donuty,j,0,1),t.seg=!1),t.plot.shadow=N,t.egg3=!1,n=l,t.ctx.restore(),t.ctx.save()}return t.showdata(t),t},doborder:function(t){var e=t.objects.graph.offsetHeight,o=t.objects.graph.offsetWidth,a=(t.objects.grapha.offsetHeight-e)/2,i=(t.objects.grapha.offsetWidth-o)/2,s=t.layout.vertical,l=s?t.objects.axisx:t.objects.axisy,n=NomanicGmap.frm(0,e,t.plot.scaley,a);s?(l.style.top=n+e+5+"px",l.style.left=i-l.offsetWidth-5+"px",l.style.width=o+"px"):(l.style.top=t.objects.graph.offsetTop+t.objects.grapha.offsetTop+"px",l.style.left=i+"px",l.style.height=t.objects.graph.offsetHeight+"px")},addClicks:function(t){return t=NomanicObject.addClick(t,t.objects.panel,function(t,e){var o,a,i,s=NomanicObject.objs[e.id],l=1e16,n=0,r=s.objects.canvas.getBoundingClientRect(),c=s.layout.vertical?t.pageY-r.top-window.pageYOffset:t.pageX-r.left-window.pageXOffset,p=s.layout.vertical?t.pageY-r.top-window.pageYOffset:t.pageX-r.left-window.pageXOffset,m=s.layout.vertical?t.pageX-r.left-window.pageXOffset:t.pageY-r.top-window.pageYOffset;switch(s.layout.type){case"line":s.selx=Math.abs(Math.round((c+s.wbw)/s.wbw)-1),(s.plot.marker||s.plot.highlight)&&(s=s.redraw(s)),(s=s.showdata(s)).onselect?s.onselect(s,s.selx):0,NomanicObject.objs[s.id]=s;break;case"bar":s.selx=Math.abs(Math.floor(c/s.wbw)),(s.plot.marker||s.plot.highlight)&&(s=s.redraw(s)),(s=s.showdata(s)).onselect?s.onselect(s,s.selx):0,NomanicObject.objs[s.id]=s;break;case"scatter":for(o=0;o<s.plot.data.length;o++)c=p-s.plot.data[o].series[3],a=m-s.plot.data[o].series[4],n=(i=Math.sqrt(c*c+a*a))<l?o:n,l=i<l?i:l;s.selx=n,(s=s.redraw(s)).onselect?s.onselect(s,s.selx):0,NomanicObject.objs[s.id]=s}})},setSelect:function(t,e){return t.selx=e,(t.plot.marker||t.plot.highlight)&&(t=t.redraw(t)),t=t.showdata(t),NomanicObject.objs[t.id]=t,t},dep:function(){moment().format()},setup:function(){NomanicGmap.mback=new Image,NomanicGmap.mback.src="data:image/png;base64,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",NomanicObject.register("NomanicGmap.create",["gmap"]),NomanicObject.addscript([["https://maps.googleapis.com/maps/api/js?key="+NomanicGmap.API_KEY+"&libraries=places",0]]),NomanicObject.addtype(NomanicGmap)},parsebase:function(t,e,o){var a,i,s,l,n,r=NomanicObject.splitter(e);for(t.plot.scalarx=1,t.plot.scalary=1,t.plot.scalex=1,t.plot.scaley=1,t.layout.center=[0,0],t.layout.zoom=6,l=0;l<r.length;l++)switch((n=r[l].split("|"))[1]=n[1]?n[1]:1,n[0]){case"showzoom":t.layout.showzoom=1;break;case"showbuttons":t.layout.showbuttons=n[1]%4;break;case"select":t.layout.select=parseInt(n[1]);break;case"style":t.layout.style=NomanicObject.stripq(n[1]);break;case"center":t.layout.center=NomanicObject.gary(NomanicObject.stripq(n[1]));break;case"zoom":t.layout.zoom=parseInt(n[1]);break;case"home":t.layout.home=NomanicObject.stripq(n[1])}if(NomanicGmap.makehome(t.layout.home?t.layout.home:"#3E82F7"),(t=NomanicObject.parsebase(t,e,o)).container.hasAttribute("data")){for(s=NomanicObject.splitter(t.container.getAttribute("data"),"{","}"),l=0;l<s.length;l++)for(t.plot.data[l]={},t.plot.data[l].colors=["#FFF","#454545","#454545"],t.plot.data[l].high=["#FFF","#454545","#454545"],r=NomanicObject.splitter(s[l]),i=0;i<r.length;i++)switch((n=r[i].split("|"))[1]=n[1]?n[1]:1,n[0]){case"image":t.plot.data[l].icon=NomanicObject.stripq(n[1]);break;case"size":t.plot.data[l].size=NomanicObject.gary(NomanicObject.stripq(n[1]));break;case"address":t.plot.data[l].address=NomanicObject.stripq(n[1]);break;case"latlng":t.plot.data[l].latlng=NomanicObject.gary(NomanicObject.stripq(n[1]));break;case"icon":t.plot.data[l].image=NomanicObject.stripq(n[1]);break;case"colors":for(n=NomanicObject.stripc(NomanicObject.stripq(n[1])),a=0;a<n.length;a++)t.plot.data[l].colors[a]=NomanicObject.stripq(n[a]);break;case"high":for(n=NomanicObject.stripc(NomanicObject.stripq(n[1])),a=0;a<n.length;a++)t.plot.data[l].high[a]=NomanicObject.stripq(n[a])}"inline"==t.datatype&&(t.done=1)}return t},codeAddress:function(t,e,o){(new google.maps.Geocoder).geocode({address:o},function(o,a){a==google.maps.GeocoderStatus.OK&&(t.setter--,t.markersp[e]=[o[0].geometry.location.lat(),o[0].geometry.location.lng()],0===t.setter&&NomanicGmap.follow(t))})},getowner:function(t){switch(t.layout.type){case"gmap":return NomanicGmap}return!1},parsecsv:function(t,e){var o,a=0,i=0,s=e.match(/[^\r\n]+/g),l=[],n=[];for(o=0;o<s.length;o++)s[o]=NomanicObject.gary(s[o]);if(t.plot.data&&(i+=t.plot.data.length),t.plot.lines&&(i+=t.plot.lines.length),i<=s.length){if(t.plot.data)for(o=0;o<t.plot.data.length;o++)l.push(s[a]),a++;if(t.plot.lines)for(o=0;o<t.plot.lines.length;o++)n.push(s[a]),a++}return[l,n]},loadcsv:function(t,e){var o,a=0,i=0,s=e.match(/[^\r\n]+/g);for(o=0;o<s.length;o++)s[o]=NomanicObject.gary(s[o]);if(t.plot.data&&(i+=t.plot.data.length),t.plot.lines&&(i+=t.plot.lines.length),i<=s.length){if(t.plot.data)for(o=0;o<t.plot.data.length;o++)t.plot.data[o].series=s[a],a++;if(t.plot.lines)for(o=0;o<t.plot.lines.length;o++)t.plot.lines[o].series=s[a],a++}return t.done=1,t},makehome:function(t){new Image;var e,o=document.createElement("canvas");o.setAttribute("width",24),o.setAttribute("height",24),(e=o.getContext("2d")).beginPath(),e.fillStyle="#FFF",e.arc(12,12,12,0,2*Math.PI),e.fill(),e.closePath(),e.beginPath(),e.fillStyle=t,e.arc(12,12,10,0,2*Math.PI),e.fill(),e.closePath(),NomanicGmap.markerhome={anchor:new google.maps.Point(12,12),url:o.toDataURL("image/png")}},makemarker:function(t,e,o,a,i){var s,l,n,r=new Image,c=document.createElement("canvas"),p=document.createElement("canvas"),m=document.createElement("canvas");r.onload=function(){c.setAttribute("width",48),c.setAttribute("height",48),s=c.getContext("2d"),p.setAttribute("width",48),p.setAttribute("height",48),l=p.getContext("2d"),m.setAttribute("width",48),m.setAttribute("height",48),n=m.getContext("2d"),s.fillStyle=a[0],s.arc(24,21,15,0,2*Math.PI),s.fill(),l.drawImage(NomanicGmap.mback,0,0,48,48),l.globalCompositeOperation="source-in",l.fillStyle=a[1],l.fillRect(0,0,48,48),n.drawImage(this,12.6,9,24,24),n.globalCompositeOperation="source-in",n.rect(0,0,48,48),n.fillStyle=a[2],n.fill();var i=new Image;i.onload=function(){s.drawImage(this,0,0,48,48);var a=new Image;a.onload=function(){s.drawImage(this,0,0,48,48),(o?t.markershg:t.markersim)[e]=c.toDataURL("image/png"),t.setter--,0===t.setter&&NomanicGmap.follow(t)},a.src=m.toDataURL("image/png")},i.src=p.toDataURL("image/png")},r.src=NomanicObject.urlpath+"assets/"+(i||"blank.png")},loadMap:function(t){t.layout.style?NomanicObject.postAjax(NomanicObject.urlpath+"assets/"+t.layout.style,[t],function(t,e){NomanicGmap.drawMap(e[0],JSON.parse(t))}):NomanicGmap.drawMap(t)},fitToMarkers:function(t,e){var o=new google.maps.LatLngBounds;if(e||0===e){var a=t.markers[e].getPosition();o.extend(a)}else for(var i in t.markers){a=t.markers[i].getPosition();o.extend(a)}if(t.homem&&t.vis){a=t.homem.getPosition();o.extend(a)}if(o.getNorthEast().equals(o.getSouthWest())){var s=new google.maps.LatLng(o.getNorthEast().lat()+.01,o.getNorthEast().lng()+.01),l=new google.maps.LatLng(o.getNorthEast().lat()-.01,o.getNorthEast().lng()-.01);o.extend(s),o.extend(l)}t.map.fitBounds(o),(e||0===e)&&t.map.setCenter(t.markers[e].getPosition())},getradius:function(t){var e=t.map.getBounds(),o=e.getCenter(),a=e.getNorthEast(),i=o.lat()/57.2958,s=o.lng()/57.2958,l=a.lat()/57.2958,n=a.lng()/57.2958;return 3963*Math.acos(Math.sin(i)*Math.sin(l)+Math.cos(i)*Math.cos(l)*Math.cos(n-s))*.5},drawMap:function(t,e){var o,a,i="",s={lat:t.layout.center[0],lng:t.layout.center[1]},l={zoom:t.layout.zoom,center:s,panControl:!0,zoomControl:!0,scrollwheel:!1,mapTypeControl:!1,scaleControl:!0,streetViewControl:!0,overviewMapControl:!0,rotateControl:!0};for(e&&(l.styles=e),(a=NomanicObject.ob("b98"+t.pid)).innerHTML='<div class="blk w100 h100"></div><div class="blk"></div>',a.style.pointerEvents="auto",t.map=new google.maps.Map(a.children[0],l),o=0;o<t.markersp.length;o++)t.markers.push(new google.maps.Marker({position:{lat:t.markersp[o][0],lng:t.markersp[o][1]},icon:o>0?t.markersim[o]:t.markershg[o],map:t.map})),t.markers[o].NMC=t,t.markers[o].f=o+1-1,t.markers[o].addListener("click",function(){-1!=t.cm&&t.markers[t.cm].setIcon(t.markersim[t.cm]),t.cm=this.f,t.markers[this.f].setIcon(t.markershg[this.f]),1==t.vis1&&(t.directionsDisplay.setMap(null),(a=NomanicObject.ob("b98"+t.pid).children[1]).children[2].style.opacity=0,t.vis1=0),NomanicGmap.fitToMarkers(this.NMC,this.f)});NomanicGmap.fitToMarkers(t),a=NomanicObject.ob("b98"+t.pid).children[1],t.layout.showbuttons>0&&(i+='<img class="gbut Gooey_object" src="'+NomanicObject.urlpath+'ims/gmaphome.png" style="float:left;margin-left:6px;margin-top:6px;cursor:pointer;"/>'),t.layout.showbuttons>1&&(i+='<img class="gbut Gooey_object" src="'+NomanicObject.urlpath+'ims/gmapcar.png" style="float:left;margin-left:3px;margin-top:6px;cursor:pointer;"/>'),t.layout.showbuttons>2&&(i+='<img class="gbut Gooey_object" src="'+NomanicObject.urlpath+'ims/gmaproute.png" style="opacity:0;float:left;margin-left:3px;margin-top:6px;cursor:pointer;"/>'),a.innerHTML=i;var n=a.getElementsByClassName("gbut");t.layout.showbuttons>0&&(n[0].NMC=t,n[0].addEventListener("click",function(){var t,e=this.NMC;e.homem&&(e.vis=1-e.vis,e.homem.setVisible(!!e.vis),e.homec.setVisible(!!e.vis),t=NomanicObject.ob("b98"+e.pid).children[1],0===e.vis&&(e.directionsDisplay.setMap(null),e.vis1=0,t.children[2].style.opacity=e.vis),t.children[1].style.opacity=e.vis,NomanicGmap.fitToMarkers(e))})),t.layout.showbuttons>1&&(n[1].NMC=t,n[1].addEventListener("click",function(){var t=this.NMC;0===t.vis1?NomanicGmap.displayRoute(t):(t.directionsDisplay.setMap(null),NomanicObject.ob("b98"+t.pid).children[1].children[2].style.opacity=0,t.vis1=0),NomanicObject.objs[t.id]=t})),t.layout.showbuttons>2&&(n[2].NMC=t,n[2].addEventListener("click",function(){var t=NomanicObject.ob("Gmap_0001"),e=this.NMC,o=NomanicObject.vsz(),a=[];a[0]=o[0]/2,a[1]=o[1]/2,NomanicObject.openlightbox(t,a,t.prt,!1,function(t){NomanicObject.ob("b98"+t.pid).style.pointerEvents="auto",NomanicGmap.showroute(NomanicObject.ob("b98"+t.pid),e.txtDir)})}));var r=t;return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){NomanicGmap.showhome(r,t)},function(){NomanicGmap.showhomeip(r)}):NomanicGmap.showhomeip(r),t},jsonp:function(t,e){var o="jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(t){delete window[o],document.body.removeChild(a),e(t)};var a=document.createElement("script");a.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(a)},showhomeip:function(){var t=NMC;NomanicGmap.jsonp("http://ipinfo.io",function(e){NomanicGmap.showhome(t,{coords:{latitude:e.loc.split(",")[0],longitude:e.loc.split(",")[1]}})})},showhome:function(t,e){var o={strokeColor:t.layout.home?t.layout.home:"#3E82F7",strokeOpacity:.75,strokeWeight:1,fillColor:t.layout.home?t.layout.home:"#3E82F7",fillOpacity:.35,map:t.map,center:{lat:e.coords.latitude,lng:e.coords.longitude},radius:1e3*NomanicGmap.getradius(t)};t.homec=new google.maps.Circle(o),t.homem=new google.maps.Marker({position:{lat:e.coords.latitude,lng:e.coords.longitude},icon:NomanicGmap.markerhome,map:t.map}),t.homem.setVisible(!1),t.homec.setVisible(!1),t.directionsService=new google.maps.DirectionsService,t.directionsDisplay=new google.maps.DirectionsRenderer({map:t.map,suppressMarkers:!0,polylineOptions:{strokeColor:t.layout.home?t.layout.home:"#3E82F7"}}),NomanicObject.objs[t.id]=t,NomanicObject.processThem()},displayRoute:function(t){t.directionsDisplay.setMap(t.map),t.directionsService.route({origin:t.homem.getPosition(),destination:t.markers[t.cm].getPosition(),waypoints:[],travelMode:google.maps.TravelMode.DRIVING,avoidTolls:!0},function(e,o){if(o===google.maps.DirectionsStatus.OK){t.directionsDisplay.setDirections(e);var a,i=NomanicObject.ob("b98"+t.pid).children[1],s=t.directionsDisplay.getDirections().routes[0];for(i.children[2].style.opacity=1,t.vis1=1,t.txtDir=[],a=0;a<s.legs[0].steps.length;a++)t.txtDir.push(s.legs[0].steps[a].instructions)}})},showroute:function(t,e){var o,a,i,s,l,n="";for(n+='<div class="datatable blk w100 h100" style="background:#454545;overflow:hidden;font-family:Cabin;"><div class="scrollercont" style="position:absolute;width:16px;top:1px;right:1px;background:#AAA;"><div class="scroller" style="position:absolute;width:100%;background:url('+NomanicObject.urlpath+'ims/scry_1.gif);cursor:pointer;"><img src="'+NomanicObject.urlpath+'ims/scry_0.gif" class="blk"/><img src="'+NomanicObject.urlpath+'ims/scry_2.gif" class="blk" style="bottom:0px;"/></div></div><div class="scrollerpane" style="position:absolute;width:calc(100% - 18px);height:auto;">',l=0;l<e.length;l++)n+='<div style="float:left;width:100%;height:auto;"><div style="float:left;width:40px;height:auto;"><span style="float:right;margin-top:4px;margin-right:10px;text-align:right;">'+(l+1)+"</span></div>",n+='<div style="float:left;width: calc(100% - 40px);height:auto;"><span style="float:left;margin-top:4px;margin-bottom:4px;text-align:left;">'+e[l]+"</span></div></div>";n+="</div></div>",t.innerHTML=n,(a=t.getElementsByClassName("scrollercont")[0]).style.height=t.offsetHeight-2+"px",i=t.getElementsByClassName("scroller")[0],s=t.getElementsByClassName("scrollerpane")[0],o=(o=a.offsetHeight/s.offsetHeight)>1?1:o,i.style.height=100*o+"%",new Draggabilly(i,{containment:!0}).on("dragMove",function(t,e,o){var a,i=this.element.parentNode,s=i.parentNode.children[1];a=this.position.y/(i.offsetHeight-this.element.offsetHeight),s.style.top=-a*(s.offsetHeight-i.offsetHeight)+"px"})},create:function(t){for(t.markersim=[],t.markershg=[],t.markersp=[],t.markers=[],t.pts=0,t.cm=0,t.vis1=0,t.setter=2*t.plot.data.length,f=0;f<t.plot.data.length;f++)t.plot.data[f].latlng?t.markersp[f]=t.plot.data[f].latlng:(t.pts++,t.setter++,NomanicGmap.codeAddress(t,f,t.plot.data[f].address)),NomanicGmap.makemarker(t,f,0,t.plot.data[f].colors,t.plot.data[f].image),NomanicGmap.makemarker(t,f,1,t.plot.data[f].high,t.plot.data[f].image);0===t.plot.data.length&&NomanicGmap.follow(t)},follow:function(t){var e=t;return setTimeout(function(){var t=e;if((t=NomanicObject.createbefore(t)).vis=0,t.rsr=NomanicObject.rsr,t.loadlegend=function(t){return t},t.updateaxis=function(t){return t},t.redraw=function(t){return t},t.showdata=function(t){return t},t.addClicks=NomanicGmap.addClicks,t.setselect=function(t){return NomanicGmap.setSelect(e,t)},t.getselect=function(t){return e.selx},t.attach=function(t,o){return NomanicObject.attacher(e,t,o)},t.layout.gtype=1,t.layout.subtype=1,t.mtype=1,!(t=NomanicObject.loadlayout(t)).objects.wrapper)return t;switch(t.canvasratio=t.objects.graph.offsetWidth/t.objects.graph.offsetHeight,t.plot.donut=t.plot.donut?t.plot.donut:0,t.plot.donuty=t.plot.donuty?t.plot.donuty:.8,t.layout.type){case"gmap":t.mtype=2,t.ctype=1,t.layout.showscroll=1}t.czoom=100,t=NomanicObject.createafter(t),t=NomanicObject.finally(t),t=NomanicGmap.loadMap(t)},50),t}};NomanicGmap.setup();
